# Лабораторная работа №3  
## Решение задачи коммивояжера (TSP) с помощью генетического алгоритма

---

## Цель работы

Цель лабораторной работы — изучение комбинаторных задач оптимизации на примере задачи коммивояжера и реализация их решения с использованием **генетического алгоритма**. В работе изучаются:

- представление особей в виде туров;  
- операторы рекомбинации и мутации для TSP;  
- визуализация поиска оптимального тура;  
- анализ динамики фитнесс-функции.

---

## Постановка задачи

Дано множество городов с координатами на плоскости. Стоимость перехода от одного города к другому определяется **евклидовым расстоянием**.  

Задача: построить тур обхода всех городов минимальной стоимости с помощью генетического алгоритма.  

**Входные данные:**  

- размер популяции;  
- вероятность кроссинговера;  
- вероятность мутации;  
- максимальное количество поколений;  
- список городов из файла `data.txt`.  

Файл `data.txt` содержит координаты городов, по одной строке на город, в формате:

```
x1 y1
x2 y2
x3 y3
```


---

## Теоретические сведения

Генетический алгоритм для задачи коммивояжера включает следующие элементы:

- **Представление особей** — последовательность индексов городов (тур).  
- **Фитнесс-функция** — длина тура (минимизация).  
- **Селекция** — турнирная или ранжированная.  
- **Кроссинговер** — Order Crossover (OX) или PMX, обеспечивающий сохранение допустимого тура.  
- **Мутация** — перестановка или инверсия элементов тура.  
- **Итерационный процесс** — повторение генераций до достижения максимального числа поколений.

---

## Ход работы

1. Загрузка координат городов из файла `file.txt`.  
2. Инициализация популяции туров случайным образом.  
3. Вычисление фитнесс-функции для каждой особи.  
4. Применение селекции для выбора родителей.  
5. Применение кроссинговера и мутации для формирования новой популяции.  
6. Сокращение популяции и переход к следующему поколению.  
7. Повторение шагов 3–6 до достижения максимального числа поколений.  
8. Сбор статистики и визуализация результатов.

---

## Визуализация результатов

В процессе работы алгоритма визуализировались:

1. **Лучший тур текущей популяции** на плоскости с координатами городов.  
2. **Динамика фитнесс-функции**, включающая:
   - длину лучшего тура в каждом поколении,  
   - среднее значение длины тура по популяции.  
3. **Список индексов городов** для лучшего тура.  
4. **Значение фитнесс-функции** для лучшей особи.

---

## Пример результатов

В результате работы алгоритма получен приближённый оптимальный тур:

```
Лучший тур: [3, 7, 1, 0, 2, 4, 5, 6, ...]
Длина тура: 43567.28
```


На графике видно, как города соединены в минимальный путь обхода, а график фитнесс-функции показывает постепенное уменьшение длины тура с течением поколений.

---

## Выводы

- Генетический алгоритм успешно решает задачу коммивояжера для большого числа городов.  
- Использование Order Crossover и мутации перестановкой позволяет эффективно исследовать пространство решений, сохраняя корректность туров.  
- Турнирная селекция обеспечивает сохранение разнообразия популяции и постепенное улучшение решения.  
- Визуализация маршрута и динамики фитнесс-функции позволяет наглядно оценить эффективность поиска оптимального тура.  
- Такой подход можно применять для решения реальных задач маршрутизации и планирования.

---

## Используемые инструменты

- Python 3  
- DEAP  
- NumPy  
- Matplotlib


